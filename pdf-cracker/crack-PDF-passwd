#!/bin/bash

if [ $# -ne 1 ]; then
  echo "Usage: $0 <pdf_file>"
  exit 1
fi

pdf_file="$1"

# Create a temporary file to store the hash
hash_file=$(mktemp)

# Run pdf2john and store the output in the temporary file
pdf2john "$pdf_file" > "$hash_file"

# Check if pdf2john was successful
if [ $? -ne 0 ]; then
  echo "Error running pdf2john. Please make sure it's installed."
  exit 1
fi

# Run john with the wordlist and the temporary hash file
john --wordlist="$HOME/Documents/my-wordlists/simple-wordlist.txt" "$hash_file"

# Clean up the temporary file
rm -f "$hash_file"
