import React, { useState, useContext } from 'react';
import { Link } from 'react-router-dom';
import logoBlack from '../images/logo-black.png';
import logoWhite from '../images/logo-white.png';
import { ThemeContext } from '../ThemeContext';

const Navbar: React.FC = () => {
    const [isOpen, setIsOpen] = useState(false);
    const { theme, toggleTheme } = useContext(ThemeContext);

    return (
        <nav className={`bg-white dark:bg-black shadow sm:flex sm:justify-between sm:items-center sm:px-4 sm:py-3`}>
            <div className="flex items-center justify-between px-4 py-3 sm:p-0">
                <div>
                    <Link to="/">
                    <img src={theme === 'dark' ? logoWhite.toString() : logoBlack.toString()} alt="Logo" className="mb-4 w-32" />
                    </Link>
                </div>
                <div className="sm:hidden">
                    <button type="button" onClick={() => setIsOpen(!isOpen)} className="text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 focus:outline-none focus:text-gray-900">
                        <svg className="h-6 w-6 fill-current" viewBox="0 0 24 24">
                            {isOpen ? (
                                <path fillRule="evenodd" clipRule="evenodd" d="M6 18L18 6M6 6l12 12" />
                            ) : (
                                <path fillRule="evenodd" clipRule="evenodd" d="M4 5h16M4 11h16M4 17h16" />
                            )}
                        </svg>
                    </button>
                </div>
            </div>
            <div className={`${isOpen ? 'block' : 'hidden'} px-2 pt-2 pb-4 sm:flex sm:p-0`}>
                <Link to="/" className="block px-2 py-1 text-black dark:text-white font-semibold rounded hover:bg-gray-200 dark:hover:bg-gray-700">Home</Link>
                <Link to="/recon" className="mt-1 block px-2 py-1 text-black dark:text-white font-semibold rounded hover:bg-gray-200 dark:hover:bg-gray-700 sm:mt-0 sm:ml-2">Recon</Link>
                <Link to="/pdf-cracker" className="mt-1 block px-2 py-1 text-black dark:text-white font-semibold rounded hover:bg-gray-200 dark:hover:bg-gray-700 sm:mt-0 sm:ml-2">PDF Cracker</Link>
                <button onClick={toggleTheme} className="text-black dark:text-white rounded-full h-10 w-10 flex items-center justify-center ml-auto bg-gray-200 dark:bg-gray-700">
                    {theme === 'light' ? 'üåô' : '‚òÄÔ∏è'}
                </button>
            </div>
        </nav>
    );
};

export default Navbar;